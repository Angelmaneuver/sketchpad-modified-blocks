!function(){var e={184:function(e,t){var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)){if(o.length){var l=r.apply(null,o);l&&e.push(l)}}else if("object"===a)if(o.toString===Object.prototype.toString)for(var c in o)n.call(o,c)&&o[c]&&e.push(c);else e.push(o.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.blocks,t=window.wp.element,n=window.wp.i18n,r=window.wp.blockEditor,a=window.wp.components,l=window.wp.apiFetch,c=o.n(l),i=window.wp.url,s=o(184),u=o.n(s);(0,e.registerBlockType)("sketchpad-modified-blocks/post-comments-count",{edit:function(e){let{attributes:o,setAttributes:l,context:s}=e;const p=s.postId,d=o.textAlign,f=o.isLink,m=o.anchor,[h,k]=(0,t.useState)(),b=(0,r.useBlockProps)({className:u()({[`has-text-align-${d}`]:d})});return(0,t.useEffect)((()=>{if(!p)return;const e=p;c()({path:(0,i.addQueryArgs)("/wp/v2/comments",{post:p}),parse:!1}).then((t=>{e===p&&k(t.headers.get("X-WP-Total"))}))}),[p]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(r.BlockControls,{group:"block"},(0,t.createElement)(r.AlignmentControl,{value:d,onChange:e=>{l({textAlign:e})}})),(0,t.createElement)(r.InspectorControls,null,(0,t.createElement)(a.PanelBody,null,(0,t.createElement)(a.ToggleControl,{label:(0,n.__)("Make the post comments count on the post a link.","sketchpad-modified-blocks"),checked:f,onChange:()=>l({isLink:!f})}),f?(0,t.createElement)(a.TextControl,{label:(0,n.__)("Enter the value you want to link destination.","sketchpad-modified-blocks"),placeholder:(0,n.__)('Anchor string without "#"',"sketchpad-modified-blocks"),value:m,onChange:e=>l({anchor:e})}):"")),(0,t.createElement)("div",b,(0,t.createElement)(r.RichText,{tagName:"p","aria-label":(0,n.__)("Post comments count before text","sketchpad-modified-blocks"),placeholder:(0,n.__)("Before post comments count","sketchpad-modified-blocks"),value:o.beforeText,onChange:e=>l({beforeText:e})}),p&&void 0!==h?h:(0,t.createElement)(r.Warning,null,(0,n.__)("Post Comments Count block: post not found.","sketchpad-modified-blocks")),(0,t.createElement)(r.RichText,{tagName:"p","aria-label":(0,n.__)("Post comments count after text","sketchpad-modified-blocks"),placeholder:(0,n.__)("After post comments count","sketchpad-modified-blocks"),value:o.afterText,onChange:e=>l({afterText:e})})))},save:function(){return null}})}()}();