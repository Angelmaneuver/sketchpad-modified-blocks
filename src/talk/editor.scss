/**
 * The following styles get applied inside the editor only.
 */

div.wp-block-sketchpad-modified-blocks-talk {
  display: block;
  padding: 0;

  &:not([class*=is-style-]), &[class*=-left], &.is-style-right {
    transform: initial;
    transition: initial;
  }

  > div.block-editor-inner-blocks {
    > div.block-editor-block-list__layout {
      display: flex;

      > div:first-child {
        flex-basis: 0;
        flex-grow: 2;
        width: 5.9375rem;
        min-width: 5.9375rem;
        max-width: 5.9375rem;
        margin: 0.625rem;

        > div.block-editor-inner-blocks {
          > div.block-editor-block-list__layout {
            > figure.wp-block-image {
              width: 100%;
              max-width: 100%;
            }
          }
        }
      }

      > div:last-child {
        flex-basis: 0;
        flex-grow: 8;
        width: 100%;
        max-width: 100%;

        div.wp-block-sketchpad-modified-blocks-talk-name p {
          font-size: 0.625rem;
        }

        div.wp-block-sketchpad-modified-blocks-talk-messages {
          div.wp-block-sketchpad-modified-blocks-talk-message {
            p {
              width: calc(100% - 2.5rem);
              padding-top: 0.3125rem;
              padding-bottom: 0.3125rem;
            }
          }
        }
      }
    }
  }

  &.is-style-right > div.block-editor-inner-blocks {
    > div.block-editor-block-list__layout {
      flex-direction: row-reverse;
    }
  }
}

div.wp-block-sketchpad-modified-blocks-talk-icon {
  .block-editor-inner-blocks {
    .block-editor-block-list__layout {
      p {
        display: inline-block;
        width: 5.9375rem;
        height: 5.9375rem;
        line-height: initial;

        &[data-empty="false"] {
          line-height: 5.9375rem;
        }

        &.has-background {
          padding: initial;
        }
      }
    }
  }

  &.is-style-rounded p {
    border-radius: 9999px;
  }
}

.block-editor-block-preview__content {
  > div {
    > .block-editor-block-list__layout {
      > .block-editor-block-list__block {
        > .wp-block-sketchpad-modified-blocks-talk-icon {
          .block-editor-inner-blocks {
            .block-editor-block-list__layout {
              text-align: center;

              p {
                font-size: 1.875rem;
                width: 13.75rem;
                height: 13.75rem;
                line-height: 13.75rem;
              }
            }
          }
        }

        > .wp-block-sketchpad-modified-blocks-talk-message {
          font-size: 2.5rem;
          margin-left: 7.5rem;

          p {
            position: relative;
            height: 37.5rem;
            top: 15.625rem;
            padding-top: 1.875rem;
            padding-left: 1.875rem;
            background-color: #F5F5F5;
            border-top-left-radius: 3.125rem;
            box-sizing: border-box;
          }

          &.is-style-talk {
            p {
              &::before {
                content: '';
                position: absolute;
                display: block;
                width: 9.375rem;
                height: 9.375rem;
                top: 1.25rem;
                left: -3.125rem;
                background-color: transparent;
                border-radius: 50%;
                box-shadow: 0 3.125rem 0 0.625rem #F5F5F5;
                transform: rotate(25deg);
                z-index: -1;
              }
            }
          }

          &.is-style-mind-voice {
            &::before {
              content: '';
              position: absolute;
              display: block;
              width: 3.125rem;
              height: 3.125rem;
              top: 15.625rem;
              left: 0.625rem;
              border-radius: 50%;
              background-color: #F5F5F5;
            }

            &::after {
              content: '';
              position: absolute;
              display: block;
              width: 6.25rem;
              height: 6.25rem;
              top: 20rem;
              left: 0.9375rem;
              border-radius: 50%;
              background-color: #F5F5F5;
            }
          }
        }
      }
    }
  }
}
